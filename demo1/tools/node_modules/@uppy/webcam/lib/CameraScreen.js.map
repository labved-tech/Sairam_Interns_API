{"version":3,"sources":["CameraScreen.js"],"names":["require","h","Component","SnapshotButton","RecordButton","RecordingLength","isModeAvailable","modes","mode","indexOf","CameraScreen","componentDidMount","props","onFocus","componentWillUnmount","onStop","render","shouldShowRecordButton","supportsRecording","shouldShowSnapshotButton","shouldShowRecordingLength","showRecordingLength","mirror","src","module","exports"],"mappings":";;eAAyBA,OAAO,CAAC,QAAD,C;IAAxBC,C,YAAAA,C;IAAGC,S,YAAAA,S;;AACX,IAAMC,cAAc,GAAGH,OAAO,CAAC,kBAAD,CAA9B;;AACA,IAAMI,YAAY,GAAGJ,OAAO,CAAC,gBAAD,CAA5B;;AACA,IAAMK,eAAe,GAAGL,OAAO,CAAC,mBAAD,CAA/B;;AAEA,SAASM,eAAT,CAA0BC,KAA1B,EAAiCC,IAAjC,EAAuC;AACrC,SAAOD,KAAK,CAACE,OAAN,CAAcD,IAAd,MAAwB,CAAC,CAAhC;AACD;;IAEKE,Y;;;;;;;;;SACJC,iB,GAAA,6BAAqB;AACnB,SAAKC,KAAL,CAAWC,OAAX;AACD,G;;SAEDC,oB,GAAA,gCAAwB;AACtB,SAAKF,KAAL,CAAWG,MAAX;AACD,G;;SAEDC,M,GAAA,kBAAU;AACR,QAAMC,sBAAsB,GAAG,KAAKL,KAAL,CAAWM,iBAAX,KAC7BZ,eAAe,CAAC,KAAKM,KAAL,CAAWL,KAAZ,EAAmB,YAAnB,CAAf,IACAD,eAAe,CAAC,KAAKM,KAAL,CAAWL,KAAZ,EAAmB,YAAnB,CADf,IAEAD,eAAe,CAAC,KAAKM,KAAL,CAAWL,KAAZ,EAAmB,aAAnB,CAHc,CAA/B;AAKA,QAAMY,wBAAwB,GAAGb,eAAe,CAAC,KAAKM,KAAL,CAAWL,KAAZ,EAAmB,SAAnB,CAAhD;AACA,QAAMa,yBAAyB,GAAG,KAAKR,KAAL,CAAWM,iBAAX,IAAgC,KAAKN,KAAL,CAAWS,mBAA7E;AAEA,WACE;AAAK,MAAA,KAAK,EAAC;AAAX,OACE;AAAK,MAAA,KAAK,EAAC;AAAX,OACE;AAAO,MAAA,KAAK,2BAAwB,KAAKT,KAAL,CAAWU,MAAX,GAAoB,6BAApB,GAAoD,EAA5E,CAAZ;AAA8F,MAAA,QAAQ,MAAtG;AAAuG,MAAA,KAAK,MAA5G;AAA6G,MAAA,WAAW,MAAxH;AAAyH,MAAA,SAAS,EAAE,KAAKV,KAAL,CAAWW,GAAX,IAAkB;AAAtJ,MADF,CADF,EAIE;AAAK,MAAA,KAAK,EAAC;AAAX,OACGH,yBAAyB,GAAGf,eAAe,CAAC,KAAKO,KAAN,CAAlB,GAAiC,IAD7D,EAEG,GAFH,EAGGO,wBAAwB,GAAGhB,cAAc,CAAC,KAAKS,KAAN,CAAjB,GAAgC,IAH3D,EAIG,GAJH,EAKGK,sBAAsB,GAAGb,YAAY,CAAC,KAAKQ,KAAN,CAAf,GAA8B,IALvD,CAJF,CADF;AAcD,G;;;EAhCwBV,S;;AAmC3BsB,MAAM,CAACC,OAAP,GAAiBf,YAAjB","sourcesContent":["const { h, Component } = require('preact')\nconst SnapshotButton = require('./SnapshotButton')\nconst RecordButton = require('./RecordButton')\nconst RecordingLength = require('./RecordingLength')\n\nfunction isModeAvailable (modes, mode) {\n  return modes.indexOf(mode) !== -1\n}\n\nclass CameraScreen extends Component {\n  componentDidMount () {\n    this.props.onFocus()\n  }\n\n  componentWillUnmount () {\n    this.props.onStop()\n  }\n\n  render () {\n    const shouldShowRecordButton = this.props.supportsRecording && (\n      isModeAvailable(this.props.modes, 'video-only') ||\n      isModeAvailable(this.props.modes, 'audio-only') ||\n      isModeAvailable(this.props.modes, 'video-audio')\n    )\n    const shouldShowSnapshotButton = isModeAvailable(this.props.modes, 'picture')\n    const shouldShowRecordingLength = this.props.supportsRecording && this.props.showRecordingLength\n\n    return (\n      <div class=\"uppy uppy-Webcam-container\">\n        <div class=\"uppy-Webcam-videoContainer\">\n          <video class={`uppy-Webcam-video  ${this.props.mirror ? 'uppy-Webcam-video--mirrored' : ''}`} autoplay muted playsinline srcObject={this.props.src || ''} />\n        </div>\n        <div class=\"uppy-Webcam-buttonContainer\">\n          {shouldShowRecordingLength ? RecordingLength(this.props) : null}\n          {' '}\n          {shouldShowSnapshotButton ? SnapshotButton(this.props) : null}\n          {' '}\n          {shouldShowRecordButton ? RecordButton(this.props) : null}\n        </div>\n      </div>\n    )\n  }\n}\n\nmodule.exports = CameraScreen\n"]}